<mvc:View
    xmlns:core="sap.ui.core"
    xmlns:table2="sap.ui.table"
    xmlns:table="sap.ui.mdc.table"
    xmlns:plugins="sap.m.plugins"
    xmlns:f="sap.f"
    xmlns:smarttable="sap.ui.comp.smarttable"
    controllerName="manageagreement.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:C="sap.m.plugins"
    displayBlock="true"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns="sap.m"
>
    <Page
        busy="{MainViewModel>/MaterialBtns/Page}"
        id="page"
        showHeader="false"
    >
        <content>
            <smarttable:SmartTable
                renderType="Div"
                id="SmartTable"
                busy="{MainViewModel>/MaterialBtns/Table}"
                entitySet="y_c_comb_agrmnt"
                smartFilterId="SmartfilterBar"
                tableType="Table"
                beforeRebindTable="onBeforeRebindTable"
                enableExport="true"
                beforeExport="onBeforeExport"
                useVariantManagement="true"
                useTablePersonalisation="true"
                header="Agreements"
                editable="false"
                afterVariantApply="onAfterVariantApply"
                showPasteButton="true"
                showRowCount="true"
                editToggled="onEditorDisplay"
                persistencyKey="SmartTableAnalytical_Explored"
                enableAutoBinding="true"
                beforePaste="onBeforePaste"
                class="sapUiResponsiveContentPadding"
                enableAutoColumnWidth="true"
                editTogglable="true"
                fieldChange="onFieldChange"
                enablePaste="true"
                paste="onPaste"
                initiallyVisibleFields="{MainViewModel>/TableColumns}"
                app:useSmartToggle="true"
                tableBindingPath="oMaterialModel>/"
                initialise="onInitialise"
            >
                <smarttable:copyProvider>
                    <plugins:CopyProvider
                        copySparse="true"
                        copyPreference="Full"
                        visible="{oMaterialbtns>/Visible}"
                    />
                </smarttable:copyProvider>
                <smarttable:dependents>
                    <C:CellSelector  rangeLimit="200" />
                </smarttable:dependents>

                <smarttable:customToolbar>
                    <OverflowToolbar>
                        <ToolbarSpacer />
                        <Button
                            text="Add"
                            enabled="{oMaterialbtns>/Visible}"
                            press="onAdd"
                        />
                        <Button
                            text="Delete"
                            enabled="{oMaterialbtns>/Visible}"
                            press="onDelete"
                        />
                    </OverflowToolbar>
                </smarttable:customToolbar>
                
            </smarttable:SmartTable>
        </content>
        <footer>
            <Bar>
                <contentRight>
                    <Button
                        text="Save"
                        enabled="{MainViewModel>/MaterialBtns/BtnEnable}"
                        busyIndicatorSize="Small"
                        press="onSave"
                    />
                    <Button
                        text="Discard"
                        enabled="{MainViewModel>/MaterialBtns/BtnEnable}"
                        press="onDiscard"
                        busyIndicatorSize="Small"
                    />
                </contentRight>
            </Bar>
        </footer>
    </Page>
</mvc:View>
